- [new feature] make connections to swap connection points (check velo algo)

pub fn redraw_arrows(
    mut redraw_arrow: EventReader<RedrawArrow>,
    mut arrow_query: Query<(&mut Path, &mut ArrowMeta), With<ArrowMeta>>,
    arrow_markers: Query<(&ArrowConnect, &GlobalTransform), With<ArrowConnect>>,
) {
    for event in redraw_arrow.iter() {
        for (mut path, mut arrow) in arrow_query.iter_mut() {
            if arrow.start.id == event.id || arrow.end.id == event.id {
                let (arrow_hold_vec, arrow_move_vec): (Vec<_>, Vec<_>) = arrow_markers
                    .iter()
                    .filter(|(x, _)| x.id == arrow.end.id || x.id == arrow.start.id)
                    .map(|(ac, gt)| (ac, gt.affine().translation.truncate()))
                    .partition(|(x, _)| x.id == arrow.end.id);
                let arrow_pos = arrow_hold_vec
                    .iter()
                    .flat_map(move |x| std::iter::repeat(*x).zip(arrow_move_vec.clone()))
                    .min_by_key(|(arrow_hold, arrow_move)| {
                        arrow_hold.1.distance(arrow_move.1) as u32
                    });
                if let Some((start_pos, end_pos)) = arrow_pos {
                    let ((start_pos, start), (end_pos, end)) = if start_pos.0.id == arrow.start.id {
                        (start_pos, end_pos)
                    } else {
                        (end_pos, start_pos)
                    };
                    arrow.start = *start_pos;
                    arrow.end = *end_pos;
                    *path = build_arrow(start, end, *arrow);
                }
            }
        }
    }
}

- [new feature] add rounded rectangle shape, line and arrow
- [new feature] allow changing stroke style (dotted, dashed, solid), allow having filled style (hachure, cross-hatch, solid)
- [new feature] allow rotation of elements
- [writing] write blog post presenting revel Part II
- [improvement] add curve arrows with control points
- [improvement] ability to set text alignment
- [new feature] save images/videos to file via context menu
- [fix] support mp4 files without audio channel
- [idea to explore] collaborative editing
- [idea to explore] different type of spaces (e.g. task board space, music player space)
